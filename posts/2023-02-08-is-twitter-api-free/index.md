---
title: "Is Twitter API Free? I've built a website to find out"
description: ""
---

Last week Twitter announced the end of free access to its public API. The announcement came in a way very characteristic for the current leadership: [in a Tweet][announcement], just a single week before the change, lacking any details (like pricing), and only a [vague promise of more information](https://twitter.com/TwitterDev/status/1621027418680229888).

Today is February 8th, one day before the announced deadline. No further information were provided on the TwitterDev account, community forums, or developer newsletter. Only more vague promises of a free “write-only API for bots providing good content”. Inside a [reply tweet](https://twitter.com/elonmusk/status/1622082025166442505).

To help fellow developers, I've made a website to provide a definitive answer to the question: [**Is Twitter API Free?**](https://istwitterapifree.com/).

## A single-serving site

TODO: screenshot

There's a long tradition of [single-serving sites](https://en.wikipedia.org/wiki/Single-serving_site), like [Tired.com](http://tired.com/) or [Zombo.com](https://zombo.com/). I wanted to build a single-serving site of my own, and this seemed like a good opportunity to make some fun out of this chaotic situation.

It's also telling that Ryan King, Twitter employee number 33, [relaunched](https://theryanking.com/post/is-twitter-down/) his [Is Twitter Down?](https://istwitterdown.com/) site after more than a decade, reminding the old days of Fail Whale.

## Behind the scenes

I could've just make a static HTML site, type in “Yes”, and change it to “No” once it'd be clear Twitter pulled the plug. That'd be the most simple thing to do, so I overengineered the whole thing, obviously.

The website is periodically regenerated by GitHub Actions and deployed to GitHub Pages. During the build, a single Twitter API call is made for the existence of the [announcement tweet][announcement].

I have no idea Twitter API wants to communicate the paid access, but I assume that either the API call will fail somehow. It's also possible Twitter might remove the tweet if Mr. “Chef Twit” changes his mind. So the success or failure of the call decides what is shown on the page.

I challenged myself to avoid any extra packages, so the [generator logic][source] is written in vanilla JavaScript with a few Node.js built-in libraries. I'm using the built-in `fetch` function, which is available without any flags since Node.js 18.

## The feed and the bots

The site wouldn't be complete without a [Twitter bot](https://twitter.com/IsTwApiFree) and a [Mastodon bot](https://masto.ai/@istwitterapifree) (of course). I didn't want to implement the bots though, so I used probably the most unappreciated technology on the web: the good old RSS feed (well, technically an Atom feed).

The site generator creates a [feed with single entry](https://istwitterapifree.com/feed.xml). The entry is identified by the current date, so feed readers will display a new item at most once a day, regardless how many times the site is regenerated.

This feed is passed to automation. For Twitter I've used <acronym title="If This Then That">IFTTT</acronym> to post a new feed items to the Twitter account. I assume that larger provider like IFTTT is likely already paying for Twitter API, so it won't be affected.

TODO: Picture

For posting to Mastodon I originally tried [Mastofeed](https://mastofeed.org/), but I haven't figured a way to include the content of the feed entry in the post. Instead I've turned to GitHub Actions, particularly [Mastofeedbot](https://github.com/joschi/mastofeedbot), which runs as a separate action after the site is updated.

## Tricks learned

The generated site displays how many days remain until the deadline. What really helped me were JavaScript's built-in [Internationalization API](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl), particularly [Intl.RelativeTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/RelativeTimeFormat/RelativeTimeFormat) to format the number of days to string like “in 2 days” or “yesterday”. I'm calculating the number of days between `now` and the assumed deadline, which I set to the midnight in Pacific time.

```js
const deadline = new Date(1675929600 * 1000); // Feb 9 midnight PST
const now = new Date();

// Calculate millisecond difference between the dates
const diffMs = deadline.getTime() - now.getTime();
// Round the difference to number of days
const diffDays = Math.round(diffMs / (1000 * 3600 * 24));

const rtf = new Intl.RelativeTimeFormat("en", {
  localeMatcher: "best fit",
  numeric: "auto",
  style: "long",
});
// 3 → "in 3 days"
// 0 → "today"
// -1 → "yesterday" etc.
const daysRelative = rtf.format(diffDays, "days");

return diffDays > 0
  ? `The deadline is ${daysRelative}`
  : `The deadline was ${daysRelative}`;
```

[announcement]: https://twitter.com/TwitterDev/status/1621026986784337922
[source]: https://github.com/jnv/istwitterapifree.com
